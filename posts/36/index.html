<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>专题三:MATLAB程序流程控制 | Zs's Blog</title>
<meta name=keywords content="MATLAB"><meta name=description content="3.1 顺序结构程序
程序设计的基本步骤

"><meta name=author content="zzsqwq"><link rel=canonical href=https://blog.zzsqwq.cn/posts/36/><meta name=google-site-verification content="G-WF7TH97J9X"><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.zzsqwq.cn/images/avatar.png><link rel=icon type=image/png sizes=16x16 href=https://blog.zzsqwq.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.zzsqwq.cn/images/favicon-32x32.ico><link rel=apple-touch-icon href=https://blog.zzsqwq.cn/apple-touch-icon.png><link rel=mask-icon href=https://blog.zzsqwq.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.zzsqwq.cn/posts/36/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-WF7TH97J9X"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WF7TH97J9X",{anonymize_ip:!1})}</script><meta property="og:title" content="专题三:MATLAB程序流程控制"><meta property="og:description" content="3.1 顺序结构程序
程序设计的基本步骤

"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.zzsqwq.cn/posts/36/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-03-18T01:09:00+00:00"><meta property="article:modified_time" content="2020-03-18T01:09:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="专题三:MATLAB程序流程控制"><meta name=twitter:description content="3.1 顺序结构程序
程序设计的基本步骤

"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.zzsqwq.cn/posts/"},{"@type":"ListItem","position":2,"name":"专题三:MATLAB程序流程控制","item":"https://blog.zzsqwq.cn/posts/36/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"专题三:MATLAB程序流程控制","name":"专题三:MATLAB程序流程控制","description":"3.1 顺序结构程序 程序设计的基本步骤 ","keywords":["MATLAB"],"articleBody":"3.1 顺序结构程序 程序设计的基本步骤 程序 在matlab中程序文件扩展名为**.m** ，因此程序文件又叫 M文件。 程序文件分两种 脚本文件：是可以在命令行窗口直接执行的文件，也叫命令文件。 函数文件：定义一个函数，以函数调用方式来调用，不能单独执行。 文件的建立 可以在主页点击新建脚本，即可创建脚本文件，并且打开MATLAB编辑器。 在命令行窗口写 edit test 即可在当前文件下创建 test 脚本文件。 %利用脚本文件求两矩阵乘积 %脚本文件f1.m A=[1:3;4:6]; B=[1,2;3,4;5,6]; C=A*B; %在命令行窗口运行脚本文件 \u003e\u003e f1 C = 22 28 49 64 %利用函数文件求两矩阵乘积 %函数文件f1.m function C=f2(A,B) C=A*B; end \u003e\u003e C=f1(A,B) C = 22 28 49 64 顺序结构 数据的输入 ： A=input(提示信息，参数选项) ，输入时会将提示信息打印出来，后面的参数选项用于限定输入数据的类型等。 数据的输出： disp(输出项) 程序的暂停： pause(延迟秒数) ，如果延迟秒数省略，那么就会一直暂停直到用户下次动作。如果程序运行中要强行暂停可以通过 Ctrl+C 实现。 例程 通过脚本文件和函数文件求一个向量的四舍五入向量。 脚本 A=[1.2,3.4,4.7,0.5]; B=round(A); disp(B) 函数 function B=f2(A) B=round(A); end 求两点之间距离以及黄金分割点坐标（其中点坐标通过复数形式输入）。 a=input('a='); b=input('b='); c=a+0.618*(b-a); s=abs(b-a); disp(s) disp(c) 3.2 用if语句实现选择结构 单分支if语句 如果成立执行语句组，如果不成立则跳出if，语句格式如下：\nif 条件(关系运算或逻辑运算) 语句组 end 双分支if语句 如果成立执行语句组1，不成立执行语句组2，然后跳出if，语句格式如下：\nif 条件(关系运算或逻辑运算) 语句组1 else 语句组2 end 多分支if语句 根据上述双分支的类推，依次判断条件1~n，成立则执行对应语句组，然后跳出if，不成立则往下寻找，语句格式如下：\nif 条件1 语句组1 elseif 条件2 语句组2 elseif 条件3 语句组3 ··· elseif 条件n-1 语句组n-1 else 语句组n end 条件成立的判断 当条件结果为标量，非零表示真，零表示假。 当条件为矩阵，如果矩阵非空且不包含零元素，则条件成立，否则不成立。 3.3 用switch语句实现选择结构 switch语句的基本格式 表示在C++里面就不喜欢用switch，感觉太麻烦了。这个和多分支if有点像吧，只是他的区别在于首先给出一个表达式，在下方每一个语句组对应着一个结果表，如果结果表对应着表达式的值，就执行当前语句组，执行完之后跳出switch语句，这个和C++的有所区别。此外，如果都不满足的话，我们还可以加入一个条件otherwise，顾名思义，如果上述结果都不满足，就执行这个otherwise下对应的语句，switch的语句格式如下：\nswitch 表达式 case 结果表1 语句组1 case 结果表2 语句组2 ··· case 结果表n 语句组n otherwise 语句组k end switch的使用规则 case结果表为switch表达式的取值，当取值有多个时，我们可以用单元数据表示。将这多个结果用大括号{}括起来，如果表达式值满足其中一个，就执行相应语句组。 用for语句实现循环结构 常用的for语句 % for语句格式： for 循环变量=表达式1:表达式2:表达式3 循环体语句 end 我们可以发现循环变量后面对应的是一个冒号表达式，分别是起始，步长，终止。 循环执行时，先求出冒号表达式对应的行向量，然后依次遍历行向量中的每一个元素，执行循环体语句。 for语句针对向量每一个元素执行一次循环体，有几个元素执行几次，当冒号表达式对应的向量为空向量，则一次也不执行。 当退出循环后，循环变量值为行向量组中的最后一个元素。 更一般的for语句 for 循环变量=矩阵表达式 循环体语句 end 更一般的for语句循环遍历后对应的是矩阵表达式，执行过程中将矩阵的各列元素，赋值给循环变量，这时候，循环变量为一个列向量，而不是上述常用for语句中的标量，可以发现，常用的for语句是一般格式下的特例。循环的次数为矩阵的列数。 例程 计算圆周率 $\\pi$\n利用循环求无穷级数展开求 $\\pi$ $$ 1-\\frac{1}{3}+\\frac{1}{5}-\\frac{1}{7}+\\cdots+(-1)^{n+1}\\frac{1}{2n-1} =\\frac{\\pi}{4} $$\ny=0; g=-1; n=input('n='); for i=1:n g=-g; y=y+g*1/(2*i-1); end disp(4*y) 利用矩阵求和求无穷级数展开求 $\\pi$ n=input('n='); x=1:2:(2*n-1); y=(-1).^(2:n+1)./x; disp(sum(y)*4) 3.5 用while语句实现循环结构 while语句 通过一个条件来判定是否执行循环体语句，当条件成立时，成立。不像是for循环先去设定循环多少次，循环变量依次取什么值，这个是根据条件限定，又叫条件循环语句。\nwhile 条件 循环体语句 end break语句和continue语句 break语句：当循环执行到break语句会跳出当前循环，进行循环外的语句。 continue语句：当循环执行到continue语句，会结束本次循环，进行下一次判断是否继续循环体。 循环嵌套 如果一个循环结构循环体又包括循环结构，那么就称为循环嵌套or多重循环结构。通过嵌套的层数不同来不同的命名，例如二重循环，三重循环等等。\n例程 从键盘输入若干数，当输入0时结束输入，求这些数的和和他们的平均值\nmsum=0; cnt=0; x=input('Enter your numbers: '); while x~=0 msum=msum+x; cnt=cnt+1; x=input('Enter your numbers: '); end if cnt\u003e0 disp(msum); disp(msum/cnt); end 用筛法求 1~m 范围内的素数。\nm=input('m='); p=1:m; p(1)=0; for i=2:sqrt(m) for j=2*i:i:m p(j)=0; end end n=find(p~=0); p(n) 3.6 函数文件的定义与调用 函数文件的基本结构 function 输出参数表=函数名(输入形参表) 注释说明部分 函数体语句 end 当有多个形参时，形参之间用 , 逗号分隔，组成形参表。当输出形参多于一个，用方括号 [] 括起来，形成输出矩阵。 函数使用中的一些规定 函数文件名通常由 函数名再加上拓展名.m 组成，函数文件名与函数名也可以不同，当两者不同时，MATLAB默认忽视函数名，调用时使用函数文件名。但一般我们将函数名和函数文件名进行统一\n如果函数文件中有 return 语句，就结束函数的执行，返回栈底。\n函数调用 [输出实参表]=函数名(输入实参表) 匿名函数 MATLAB提供了一种特殊的函数，函数句柄变量相当于这个函数的别名，通过函数句柄可以间接的调用函数，多个参数之间用逗号分隔。\n函数定义的基本格式如下：\n函数句柄变量 = @(匿名函数输入参数) 匿名函数表达式 函数调用的基本格式如下：\n函数句柄变量(匿名函数输入实参) 特殊的，我们可以将一个已知的内部函数或者自定义函数，赋值给一个函数句柄变量，这样我们就可以通过函数句柄变量变量来简洁的调用函数。(类似于改个名字)\n例程 通过函数文件和匿名函数两个形式，求出 $x^2+y^2$ 的值。\n函数文件 function z=f2(x,y) z=x^2+y^2; end 匿名函数 f=@(x,y) x^2+y^2 3.7 函数的递归调用 函数的递归调用 如果一个函数在函数体内部调用自己本身称为递归调用（如果是其他函数称为嵌套调用）。递归是把一个大型复杂的问题层层转化为一个与原问题相似的规模较小的问题来求解。\n直接递归调用：在一个函数体内部直接调用自己本身。 简介递归调用：在一个函数体内不嵌套调用其他函数，其他函数又调用自己。 例程 求 $n!=1\\times2\\times3\\cdots \\times n$ function f=fact(n) if n\u003c=1 f=1; else f=fact(n-1)*n; end 3.8 函数参数与变量的作用域 函数参数的可调性 可调性顾名思义，就是可以调节的。MATLAB函数在调用过程中函数传递参数的数目是可以调节的。在调用时，函数有两个预定义变量，nargin 和 nargout ，前者记录调用函数时输入实参的个数，后者记录调用函数时输出实参的个数。通过这两个变量，可以针对不同的变量个数进行不同的处理。\n全局变量和局部变量 函数中定义的变量是局部变量，不能被其他函数引用 我们可以通过 global 变量名 来定义一个全局变量，如果不加 global ，默认是局部变量。 全局变量的作用域是整个MATLAB工作空间，全程有效，所有函数都可以对他进行存取和修改。 但是要注意的是，这里的全局变量使用方式和C++的有所区别，如果你要在函数中调用工作区中的全局变量，那么你需要在函数体内部定义相同的全局变量，这样才可以对其进行引用，函数体内部和工作区中的变量值是共享的。 例程 求 $x1\\times x+y1\\times y$ ，其中x1 和 y1 是全局工作区中全局变量的值。 %函数文件 function f=solve(x,y) global x1 y1 f=x1*x+y1*y %工作区 global x1 y1; x1=1; y1=2; s=solve(1,2) ","wordCount":"329","inLanguage":"en","datePublished":"2020-03-18T01:09:00Z","dateModified":"2020-03-18T01:09:00Z","author":{"@type":"Person","name":"zzsqwq"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.zzsqwq.cn/posts/36/"},"publisher":{"@type":"Organization","name":"Zs's Blog","logo":{"@type":"ImageObject","url":"https://blog.zzsqwq.cn/images/avatar.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.zzsqwq.cn/ accesskey=h title="Zs's Blog (Alt + H)">Zs's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.zzsqwq.cn/about title=About><span>About</span></a></li><li><a href=https://blog.zzsqwq.cn/archives title=Posts><span>Posts</span></a></li><li><a href=https://blog.zzsqwq.cn/friends title=Friends><span>Friends</span></a></li><li><a href=https://blog.zzsqwq.cn/contact title=Contact><span>Contact</span></a></li><li><a href=https://blog.zzsqwq.cn/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.zzsqwq.cn/>Home</a>&nbsp;»&nbsp;<a href=https://blog.zzsqwq.cn/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">专题三:MATLAB程序流程控制</h1><div class=post-meta><span title='2020-03-18 01:09:00 +0000 UTC'>March 18, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;zzsqwq&nbsp;|&nbsp;<a href=https://github.com/zzsqwq/zzsqwq.github.io/tree/master/content/posts/%e4%b8%93%e9%a2%98%e4%b8%89-MATLAB%e7%a8%8b%e5%ba%8f%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#31-%e9%a1%ba%e5%ba%8f%e7%bb%93%e6%9e%84%e7%a8%8b%e5%ba%8f aria-label="3.1 顺序结构程序">3.1 顺序结构程序</a><ul><li><a href=#%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%ad%a5%e9%aa%a4 aria-label=程序设计的基本步骤>程序设计的基本步骤</a></li><li><a href=#%e7%a8%8b%e5%ba%8f aria-label=程序>程序</a></li><li><a href=#%e6%96%87%e4%bb%b6%e7%9a%84%e5%bb%ba%e7%ab%8b aria-label=文件的建立>文件的建立</a></li><li><a href=#%e9%a1%ba%e5%ba%8f%e7%bb%93%e6%9e%84 aria-label=顺序结构>顺序结构</a></li><li><a href=#%e4%be%8b%e7%a8%8b aria-label=例程>例程</a></li></ul></li><li><a href=#32-%e7%94%a8if%e8%af%ad%e5%8f%a5%e5%ae%9e%e7%8e%b0%e9%80%89%e6%8b%a9%e7%bb%93%e6%9e%84 aria-label="3.2 用if语句实现选择结构">3.2 用if语句实现选择结构</a><ul><li><a href=#%e5%8d%95%e5%88%86%e6%94%afif%e8%af%ad%e5%8f%a5 aria-label=单分支if语句>单分支if语句</a></li><li><a href=#%e5%8f%8c%e5%88%86%e6%94%afif%e8%af%ad%e5%8f%a5 aria-label=双分支if语句>双分支if语句</a></li><li><a href=#%e5%a4%9a%e5%88%86%e6%94%afif%e8%af%ad%e5%8f%a5 aria-label=多分支if语句>多分支if语句</a></li><li><a href=#%e6%9d%a1%e4%bb%b6%e6%88%90%e7%ab%8b%e7%9a%84%e5%88%a4%e6%96%ad aria-label=条件成立的判断>条件成立的判断</a></li></ul></li><li><a href=#33-%e7%94%a8switch%e8%af%ad%e5%8f%a5%e5%ae%9e%e7%8e%b0%e9%80%89%e6%8b%a9%e7%bb%93%e6%9e%84 aria-label="3.3 用switch语句实现选择结构">3.3 用switch语句实现选择结构</a><ul><li><a href=#switch%e8%af%ad%e5%8f%a5%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%a0%bc%e5%bc%8f aria-label=switch语句的基本格式>switch语句的基本格式</a></li><li><a href=#switch%e7%9a%84%e4%bd%bf%e7%94%a8%e8%a7%84%e5%88%99 aria-label=switch的使用规则>switch的使用规则</a></li></ul></li><li><a href=#%e7%94%a8for%e8%af%ad%e5%8f%a5%e5%ae%9e%e7%8e%b0%e5%be%aa%e7%8e%af%e7%bb%93%e6%9e%84 aria-label=用for语句实现循环结构>用for语句实现循环结构</a><ul><li><a href=#%e5%b8%b8%e7%94%a8%e7%9a%84for%e8%af%ad%e5%8f%a5 aria-label=常用的for语句>常用的for语句</a></li><li><a href=#%e6%9b%b4%e4%b8%80%e8%88%ac%e7%9a%84for%e8%af%ad%e5%8f%a5 aria-label=更一般的for语句>更一般的for语句</a></li><li><a href=#%e4%be%8b%e7%a8%8b-1 aria-label=例程>例程</a></li></ul></li><li><a href=#35-%e7%94%a8while%e8%af%ad%e5%8f%a5%e5%ae%9e%e7%8e%b0%e5%be%aa%e7%8e%af%e7%bb%93%e6%9e%84 aria-label="3.5 用while语句实现循环结构">3.5 用while语句实现循环结构</a><ul><li><a href=#while%e8%af%ad%e5%8f%a5 aria-label=while语句>while语句</a></li><li><a href=#break%e8%af%ad%e5%8f%a5%e5%92%8ccontinue%e8%af%ad%e5%8f%a5 aria-label=break语句和continue语句>break语句和continue语句</a></li><li><a href=#%e5%be%aa%e7%8e%af%e5%b5%8c%e5%a5%97 aria-label=循环嵌套>循环嵌套</a></li><li><a href=#%e4%be%8b%e7%a8%8b-2 aria-label=例程>例程</a></li></ul></li><li><a href=#36-%e5%87%bd%e6%95%b0%e6%96%87%e4%bb%b6%e7%9a%84%e5%ae%9a%e4%b9%89%e4%b8%8e%e8%b0%83%e7%94%a8 aria-label="3.6 函数文件的定义与调用">3.6 函数文件的定义与调用</a><ul><li><a href=#%e5%87%bd%e6%95%b0%e6%96%87%e4%bb%b6%e7%9a%84%e5%9f%ba%e6%9c%ac%e7%bb%93%e6%9e%84 aria-label=函数文件的基本结构>函数文件的基本结构</a></li><li><a href=#%e5%87%bd%e6%95%b0%e4%bd%bf%e7%94%a8%e4%b8%ad%e7%9a%84%e4%b8%80%e4%ba%9b%e8%a7%84%e5%ae%9a aria-label=函数使用中的一些规定>函数使用中的一些规定</a></li><li><a href=#%e5%87%bd%e6%95%b0%e8%b0%83%e7%94%a8 aria-label=函数调用>函数调用</a></li><li><a href=#%e5%8c%bf%e5%90%8d%e5%87%bd%e6%95%b0 aria-label=匿名函数>匿名函数</a></li><li><a href=#%e4%be%8b%e7%a8%8b-3 aria-label=例程>例程</a></li></ul></li><li><a href=#37-%e5%87%bd%e6%95%b0%e7%9a%84%e9%80%92%e5%bd%92%e8%b0%83%e7%94%a8 aria-label="3.7 函数的递归调用">3.7 函数的递归调用</a><ul><li><a href=#%e5%87%bd%e6%95%b0%e7%9a%84%e9%80%92%e5%bd%92%e8%b0%83%e7%94%a8 aria-label=函数的递归调用>函数的递归调用</a></li><li><a href=#%e4%be%8b%e7%a8%8b-4 aria-label=例程>例程</a></li></ul></li><li><a href=#38-%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0%e4%b8%8e%e5%8f%98%e9%87%8f%e7%9a%84%e4%bd%9c%e7%94%a8%e5%9f%9f aria-label="3.8 函数参数与变量的作用域">3.8 函数参数与变量的作用域</a><ul><li><a href=#%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0%e7%9a%84%e5%8f%af%e8%b0%83%e6%80%a7 aria-label=函数参数的可调性>函数参数的可调性</a></li><li><a href=#%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8f%e5%92%8c%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f aria-label=全局变量和局部变量>全局变量和局部变量</a></li><li><a href=#%e4%be%8b%e7%a8%8b-5 aria-label=例程>例程</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=31-顺序结构程序>3.1 顺序结构程序<a hidden class=anchor aria-hidden=true href=#31-顺序结构程序>#</a></h2><h3 id=程序设计的基本步骤>程序设计的基本步骤<a hidden class=anchor aria-hidden=true href=#程序设计的基本步骤>#</a></h3><p><img loading=lazy src=https://blog.zzsqwq.cn/usr/uploads/2020/08/2521586228.png alt=step.png></p><h3 id=程序>程序<a hidden class=anchor aria-hidden=true href=#程序>#</a></h3><ul><li>在matlab中程序文件扩展名为**.m** ，因此程序文件又叫 <strong>M文件</strong>。</li><li>程序文件分<strong>两种</strong><ul><li><strong>脚本文件</strong>：是可以在命令行窗口直接执行的文件，也叫命令文件。</li><li><strong>函数文件</strong>：定义一个函数，以函数调用方式来调用，不能单独执行。</li></ul></li></ul><h3 id=文件的建立>文件的建立<a hidden class=anchor aria-hidden=true href=#文件的建立>#</a></h3><ul><li>可以在主页点击新建脚本，即可创建脚本文件，并且打开MATLAB编辑器。</li><li>在命令行窗口写 <code>edit test</code> 即可在当前文件下创建 <strong>test</strong> 脚本文件。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=c>%利用脚本文件求两矩阵乘积</span>
</span></span><span class=line><span class=cl><span class=c>%脚本文件f1.m</span>
</span></span><span class=line><span class=cl><span class=n>A</span><span class=p>=[</span><span class=mi>1</span><span class=p>:</span><span class=mi>3</span><span class=p>;</span><span class=mi>4</span><span class=p>:</span><span class=mi>6</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>B</span><span class=p>=[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>;</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>;</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>C</span><span class=p>=</span><span class=n>A</span><span class=o>*</span><span class=n>B</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c>%在命令行窗口运行脚本文件</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=n>f1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=p>=</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=mi>22</span>    <span class=mi>28</span>
</span></span><span class=line><span class=cl>    <span class=mi>49</span>    <span class=mi>64</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=c>%利用函数文件求两矩阵乘积</span>
</span></span><span class=line><span class=cl><span class=c>%函数文件f1.m</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=w> </span>C<span class=p>=</span><span class=nf>f2</span><span class=p>(</span>A,B<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>C</span><span class=p>=</span><span class=n>A</span><span class=o>*</span><span class=n>B</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=n>C</span><span class=p>=</span><span class=n>f1</span><span class=p>(</span><span class=n>A</span><span class=p>,</span><span class=n>B</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=p>=</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=mi>22</span>    <span class=mi>28</span>
</span></span><span class=line><span class=cl>    <span class=mi>49</span>    <span class=mi>64</span>
</span></span></code></pre></div><h3 id=顺序结构>顺序结构<a hidden class=anchor aria-hidden=true href=#顺序结构>#</a></h3><ul><li>数据的输入 ： <code>A=input(提示信息，参数选项)</code> ，输入时会将提示信息打印出来，后面的参数选项用于限定输入数据的类型等。</li><li>数据的输出： <code>disp(输出项)</code></li><li>程序的暂停： <code>pause(延迟秒数)</code> ，<strong>如果延迟秒数省略，那么就会一直暂停直到用户下次动作</strong>。如果程序运行中要强行暂停可以通过 <strong>Ctrl+C</strong> 实现。</li></ul><h3 id=例程>例程<a hidden class=anchor aria-hidden=true href=#例程>#</a></h3><ol><li><strong>通过脚本文件和函数文件求一个向量的四舍五入向量。</strong></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl>脚本
</span></span><span class=line><span class=cl><span class=n>A</span><span class=p>=[</span><span class=mf>1.2</span><span class=p>,</span><span class=mf>3.4</span><span class=p>,</span><span class=mf>4.7</span><span class=p>,</span><span class=mf>0.5</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>B</span><span class=p>=</span><span class=nb>round</span><span class=p>(</span><span class=n>A</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nb>disp</span><span class=p>(</span><span class=n>B</span><span class=p>)</span>
</span></span><span class=line><span class=cl>函数
</span></span><span class=line><span class=cl><span class=k>function</span><span class=w> </span>B<span class=p>=</span><span class=nf>f2</span><span class=p>(</span>A<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>B</span><span class=p>=</span><span class=nb>round</span><span class=p>(</span><span class=n>A</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><ol start=2><li><strong>求两点之间距离以及黄金分割点坐标（其中点坐标通过复数形式输入）。</strong></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=n>a</span><span class=p>=</span><span class=n>input</span><span class=p>(</span><span class=s>&#39;a=&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>b</span><span class=p>=</span><span class=n>input</span><span class=p>(</span><span class=s>&#39;b=&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>c</span><span class=p>=</span><span class=n>a</span><span class=o>+</span><span class=mf>0.618</span><span class=o>*</span><span class=p>(</span><span class=n>b</span><span class=o>-</span><span class=n>a</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>s</span><span class=p>=</span><span class=nb>abs</span><span class=p>(</span><span class=n>b</span><span class=o>-</span><span class=n>a</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nb>disp</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>disp</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span></code></pre></div><hr><h2 id=32-用if语句实现选择结构>3.2 用if语句实现选择结构<a hidden class=anchor aria-hidden=true href=#32-用if语句实现选择结构>#</a></h2><h3 id=单分支if语句>单分支if语句<a hidden class=anchor aria-hidden=true href=#单分支if语句>#</a></h3><p><strong>如果成立执行语句组，如果不成立则跳出if，语句格式如下：</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>if</span> 条件<span class=p>(</span>关系运算或逻辑运算<span class=p>)</span>
</span></span><span class=line><span class=cl>   语句组
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><h3 id=双分支if语句>双分支if语句<a hidden class=anchor aria-hidden=true href=#双分支if语句>#</a></h3><p><strong>如果成立执行语句组1，不成立执行语句组2，然后跳出if，语句格式如下：</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>if</span> 条件<span class=p>(</span>关系运算或逻辑运算<span class=p>)</span>
</span></span><span class=line><span class=cl>   语句组<span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   语句组<span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><h3 id=多分支if语句>多分支if语句<a hidden class=anchor aria-hidden=true href=#多分支if语句>#</a></h3><p><strong>根据上述双分支的类推，依次判断条件1~n，成立则执行对应语句组，然后跳出if，不成立则往下寻找，语句格式如下：</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>if</span> 条件<span class=mi>1</span>
</span></span><span class=line><span class=cl>   语句组<span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>elseif</span> 条件<span class=mi>2</span>
</span></span><span class=line><span class=cl>   语句组<span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=k>elseif</span> 条件<span class=mi>3</span>
</span></span><span class=line><span class=cl>   语句组<span class=mi>3</span>
</span></span><span class=line><span class=cl>···
</span></span><span class=line><span class=cl><span class=k>elseif</span> 条件<span class=n>n</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>   语句组<span class=n>n</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>else</span> 语句组<span class=n>n</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><h3 id=条件成立的判断>条件成立的判断<a hidden class=anchor aria-hidden=true href=#条件成立的判断>#</a></h3><ul><li>当条件结果为标量，非零表示真，零表示假。</li><li>当条件为矩阵，如果<strong>矩阵非空且不包含零元素</strong>，则条件成立，否则不成立。</li></ul><hr><h2 id=33-用switch语句实现选择结构>3.3 用switch语句实现选择结构<a hidden class=anchor aria-hidden=true href=#33-用switch语句实现选择结构>#</a></h2><h3 id=switch语句的基本格式>switch语句的基本格式<a hidden class=anchor aria-hidden=true href=#switch语句的基本格式>#</a></h3><p>表示在C++里面就不喜欢用switch，感觉太麻烦了。这个和多分支if有点像吧，只是他的区别在于首先给出一个表达式，在下方每一个语句组对应着一个结果表，如果结果表对应着表达式的值，就执行当前语句组，<strong>执行完之后跳出switch语句，这个和C++的有所区别。<strong>此外，如果都不满足的话，我们还可以加入一个条件</strong>otherwise</strong>，顾名思义，如果上述结果都不满足，就执行这个otherwise下对应的语句，switch的语句格式如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>switch</span> 表达式
</span></span><span class=line><span class=cl>  <span class=k>case</span> 结果表<span class=mi>1</span>
</span></span><span class=line><span class=cl>     语句组<span class=mi>1</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> 结果表<span class=mi>2</span>
</span></span><span class=line><span class=cl>     语句组<span class=mi>2</span>
</span></span><span class=line><span class=cl>···
</span></span><span class=line><span class=cl>  <span class=k>case</span> 结果表<span class=n>n</span>
</span></span><span class=line><span class=cl>     语句组<span class=n>n</span>
</span></span><span class=line><span class=cl>  <span class=k>otherwise</span>
</span></span><span class=line><span class=cl>     语句组<span class=n>k</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><h3 id=switch的使用规则>switch的使用规则<a hidden class=anchor aria-hidden=true href=#switch的使用规则>#</a></h3><ul><li>case结果表为switch表达式的取值，<strong>当取值有多个时，我们可以用单元数据表示</strong>。将这多个结果用大括号<code>{}</code>括起来，如果表达式值满足其中一个，就执行相应语句组。</li></ul><hr><h2 id=用for语句实现循环结构>用for语句实现循环结构<a hidden class=anchor aria-hidden=true href=#用for语句实现循环结构>#</a></h2><h3 id=常用的for语句>常用的for语句<a hidden class=anchor aria-hidden=true href=#常用的for语句>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=c>% for语句格式：</span>
</span></span><span class=line><span class=cl><span class=k>for</span> 循环变量<span class=p>=</span>表达式<span class=mi>1</span><span class=p>:</span>表达式<span class=mi>2</span><span class=p>:</span>表达式<span class=mi>3</span>
</span></span><span class=line><span class=cl>    循环体语句
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><ul><li>我们可以发现循环变量后面对应的是一个冒号表达式，分别是起始，步长，终止。</li><li>循环执行时，先求出冒号表达式对应的行向量，然后依次遍历行向量中的每一个元素，执行循环体语句。</li><li>for语句针对向量每一个元素执行一次循环体，有几个元素执行几次，当冒号表达式对应的向量为空向量，则一次也不执行。</li><li>当退出循环后，循环变量值为行向量组中的最后一个元素。</li></ul><h3 id=更一般的for语句>更一般的for语句<a hidden class=anchor aria-hidden=true href=#更一般的for语句>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>for</span> 循环变量<span class=p>=</span>矩阵表达式
</span></span><span class=line><span class=cl>	循环体语句
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><ul><li>更一般的for语句循环遍历后对应的是矩阵表达式，执行过程中将矩阵的各列元素，赋值给循环变量，这时候，循环变量为一个列向量，而不是上述常用for语句中的标量，可以发现，常用的for语句是一般格式下的特例。<strong>循环的次数为矩阵的列数。</strong></li></ul><h3 id=例程-1>例程<a hidden class=anchor aria-hidden=true href=#例程-1>#</a></h3><p>计算圆周率 $\pi$</p><ul><li>利用循环求无穷级数展开求 $\pi$</li></ul><p>$$
1-\frac{1}{3}+\frac{1}{5}-\frac{1}{7}+\cdots+(-1)^{n+1}\frac{1}{2n-1} =\frac{\pi}{4}
$$</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=n>y</span><span class=p>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>g</span><span class=p>=</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>n</span><span class=p>=</span><span class=n>input</span><span class=p>(</span><span class=s>&#39;n=&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nb>i</span><span class=p>=</span><span class=mi>1</span><span class=p>:</span><span class=n>n</span>
</span></span><span class=line><span class=cl>	<span class=n>g</span><span class=p>=</span><span class=o>-</span><span class=n>g</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>y</span><span class=p>=</span><span class=n>y</span><span class=o>+</span><span class=n>g</span><span class=o>*</span><span class=mi>1</span><span class=o>/</span><span class=p>(</span><span class=mi>2</span><span class=o>*</span><span class=nb>i</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl><span class=nb>disp</span><span class=p>(</span><span class=mi>4</span><span class=o>*</span><span class=n>y</span><span class=p>)</span>
</span></span></code></pre></div><ul><li>利用矩阵求和求无穷级数展开求 $\pi$</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=n>n</span><span class=p>=</span><span class=n>input</span><span class=p>(</span><span class=s>&#39;n=&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=p>=</span><span class=mi>1</span><span class=p>:</span><span class=mi>2</span><span class=p>:(</span><span class=mi>2</span><span class=o>*</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>y</span><span class=p>=(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=o>.^</span><span class=p>(</span><span class=mi>2</span><span class=p>:</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span><span class=o>./</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>disp</span><span class=p>(</span><span class=n>sum</span><span class=p>(</span><span class=n>y</span><span class=p>)</span><span class=o>*</span><span class=mi>4</span><span class=p>)</span>
</span></span></code></pre></div><hr><h2 id=35-用while语句实现循环结构>3.5 用while语句实现循环结构<a hidden class=anchor aria-hidden=true href=#35-用while语句实现循环结构>#</a></h2><h3 id=while语句>while语句<a hidden class=anchor aria-hidden=true href=#while语句>#</a></h3><p>通过一个条件来判定是否执行循环体语句，当条件成立时，成立。不像是for循环先去设定循环多少次，循环变量依次取什么值，这个是根据条件限定，又叫<strong>条件循环语句</strong>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>while</span> 条件
</span></span><span class=line><span class=cl>     循环体语句
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><h3 id=break语句和continue语句>break语句和continue语句<a hidden class=anchor aria-hidden=true href=#break语句和continue语句>#</a></h3><ul><li><strong>break语句</strong>：当循环执行到break语句会跳出当前循环，进行循环外的语句。</li><li><strong>continue语句</strong>：当循环执行到continue语句，会结束本次循环，进行下一次判断是否继续循环体。</li></ul><h3 id=循环嵌套>循环嵌套<a hidden class=anchor aria-hidden=true href=#循环嵌套>#</a></h3><p>如果一个循环结构循环体又包括循环结构，那么就称为<strong>循环嵌套</strong>or<strong>多重循环结构</strong>。通过嵌套的层数不同来不同的命名，例如二重循环，三重循环等等。</p><h3 id=例程-2>例程<a hidden class=anchor aria-hidden=true href=#例程-2>#</a></h3><ol><li><p>从键盘输入若干数，<strong>当输入0时结束输入</strong>，求这些数的和和他们的平均值</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=n>msum</span><span class=p>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>cnt</span><span class=p>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=p>=</span><span class=n>input</span><span class=p>(</span><span class=s>&#39;Enter your numbers: &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>x</span><span class=o>~=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>msum</span><span class=p>=</span><span class=n>msum</span><span class=o>+</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cnt</span><span class=p>=</span><span class=n>cnt</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span><span class=p>=</span><span class=n>input</span><span class=p>(</span><span class=s>&#39;Enter your numbers: &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>cnt</span><span class=o>&gt;</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=nb>disp</span><span class=p>(</span><span class=n>msum</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nb>disp</span><span class=p>(</span><span class=n>msum</span><span class=o>/</span><span class=n>cnt</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div></li><li><p>用筛法求 <strong>1~m</strong> 范围内的素数。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=n>m</span><span class=p>=</span><span class=n>input</span><span class=p>(</span><span class=s>&#39;m=&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=p>=</span><span class=mi>1</span><span class=p>:</span><span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=p>(</span><span class=mi>1</span><span class=p>)=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nb>i</span><span class=p>=</span><span class=mi>2</span><span class=p>:</span><span class=nb>sqrt</span><span class=p>(</span><span class=n>m</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nb>j</span><span class=p>=</span><span class=mi>2</span><span class=o>*</span><span class=nb>i</span><span class=p>:</span><span class=nb>i</span><span class=p>:</span><span class=n>m</span>
</span></span><span class=line><span class=cl>		<span class=n>p</span><span class=p>(</span><span class=nb>j</span><span class=p>)=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl><span class=n>n</span><span class=p>=</span><span class=nb>find</span><span class=p>(</span><span class=n>p</span><span class=o>~=</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</span></span></code></pre></div></li></ol><hr><h2 id=36-函数文件的定义与调用>3.6 函数文件的定义与调用<a hidden class=anchor aria-hidden=true href=#36-函数文件的定义与调用>#</a></h2><h3 id=函数文件的基本结构>函数文件的基本结构<a hidden class=anchor aria-hidden=true href=#函数文件的基本结构>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>function</span><span class=w> </span>输出参数表<span class=p>=</span><span class=nf>函数名</span><span class=p>(</span>输入形参表<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>注释说明部分
</span></span><span class=line><span class=cl>函数体语句
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><ul><li>当有多个形参时，形参之间用 <code>,</code> 逗号分隔，组成形参表。当输出形参多于一个，用方括号 <code>[]</code> 括起来，形成输出矩阵。</li></ul><h3 id=函数使用中的一些规定>函数使用中的一些规定<a hidden class=anchor aria-hidden=true href=#函数使用中的一些规定>#</a></h3><ul><li><p>函数文件名通常由 <strong>函数名再加上拓展名.m</strong> 组成，函数文件名与函数名也可以不同，当两者不同时，MATLAB默认忽视函数名，调用时使用函数文件名。<strong>但一般我们将函数名和函数文件名进行统一</strong></p></li><li><p>如果函数文件中有 <strong>return</strong> 语句，就结束函数的执行，返回栈底。</p></li></ul><h3 id=函数调用>函数调用<a hidden class=anchor aria-hidden=true href=#函数调用>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=p>[</span>输出实参表<span class=p>]=</span>函数名<span class=p>(</span>输入实参表<span class=p>)</span>
</span></span></code></pre></div><h3 id=匿名函数>匿名函数<a hidden class=anchor aria-hidden=true href=#匿名函数>#</a></h3><p>MATLAB提供了一种特殊的函数，函数句柄变量相当于这个函数的别名，通过函数句柄可以间接的调用函数，多个参数之间用逗号分隔。</p><ul><li><p><strong>函数定义的基本格式如下</strong>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl>函数句柄变量 <span class=p>=</span> <span class=p>@(</span>匿名函数输入参数<span class=p>)</span> 匿名函数表达式
</span></span></code></pre></div></li><li><p><strong>函数调用的基本格式如下</strong>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl>函数句柄变量<span class=p>(</span>匿名函数输入实参<span class=p>)</span>
</span></span></code></pre></div></li><li><p>特殊的，我们可以将一个已知的内部函数或者自定义函数，赋值给一个函数句柄变量，这样我们就可以通过函数句柄变量变量来简洁的调用函数。<strong>(类似于改个名字)</strong></p></li></ul><h3 id=例程-3>例程<a hidden class=anchor aria-hidden=true href=#例程-3>#</a></h3><ul><li><p>通过函数文件和匿名函数两个形式，求出 $x^2+y^2$ 的值。</p><ul><li>函数文件</li></ul><pre tabindex=0><code>function z=f2(x,y)
    z=x^2+y^2;
end
</code></pre><ul><li>匿名函数</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=n>f</span><span class=p>=@(</span><span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>)</span> <span class=n>x</span>^<span class=mi>2</span><span class=o>+</span><span class=n>y</span>^<span class=mi>2</span>
</span></span></code></pre></div></li></ul><hr><h2 id=37-函数的递归调用>3.7 函数的递归调用<a hidden class=anchor aria-hidden=true href=#37-函数的递归调用>#</a></h2><h3 id=函数的递归调用>函数的递归调用<a hidden class=anchor aria-hidden=true href=#函数的递归调用>#</a></h3><p>如果一个函数在函数体内部调用自己本身称为递归调用（如果是其他函数称为嵌套调用）。<strong>递归是把一个大型复杂的问题层层转化为一个与原问题相似的规模较小的问题来求解。</strong></p><ul><li><strong>直接递归调用</strong>：在一个函数体内部直接调用自己本身。</li><li><strong>简介递归调用</strong>：在一个函数体内不嵌套调用其他函数，其他函数又调用自己。</li></ul><h3 id=例程-4>例程<a hidden class=anchor aria-hidden=true href=#例程-4>#</a></h3><ul><li>求 $n!=1\times2\times3\cdots \times n$</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=k>function</span><span class=w> </span>f<span class=p>=</span><span class=nf>fact</span><span class=p>(</span>n<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>if</span> <span class=n>n</span><span class=o>&lt;</span><span class=p>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>   <span class=n>f</span><span class=p>=</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=n>f</span><span class=p>=</span><span class=n>fact</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=o>*</span><span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><hr><h2 id=38-函数参数与变量的作用域>3.8 函数参数与变量的作用域<a hidden class=anchor aria-hidden=true href=#38-函数参数与变量的作用域>#</a></h2><h3 id=函数参数的可调性>函数参数的可调性<a hidden class=anchor aria-hidden=true href=#函数参数的可调性>#</a></h3><p>可调性顾名思义，就是可以调节的。MATLAB函数在调用过程中函数传递参数的数目是可以调节的。在调用时，函数有两个预定义变量，<strong>nargin</strong> 和 <strong>nargout</strong> ，前者记录调用函数时输入实参的个数，后者记录调用函数时输出实参的个数。通过这两个变量，可以针对不同的变量个数进行不同的处理。</p><h3 id=全局变量和局部变量>全局变量和局部变量<a hidden class=anchor aria-hidden=true href=#全局变量和局部变量>#</a></h3><ul><li>函数中定义的变量是局部变量，不能被其他函数引用</li><li>我们可以通过 <code>global 变量名</code> 来定义一个全局变量，如果不加 <strong>global</strong> ，默认是局部变量。</li><li>全局变量的作用域是整个MATLAB工作空间，全程有效，所有函数都可以对他进行存取和修改。</li><li>但是要注意的是，这里的全局变量使用方式和C++的有所区别，如果你要在函数中调用工作区中的全局变量，那么你需要在函数体内部定义相同的全局变量，这样才可以对其进行引用，函数体内部和工作区中的变量值是共享的。</li></ul><h3 id=例程-5>例程<a hidden class=anchor aria-hidden=true href=#例程-5>#</a></h3><ul><li>求 $x1\times x+y1\times y$ ，其中<strong>x1</strong> 和 <strong>y1</strong> 是全局工作区中全局变量的值。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-matlab data-lang=matlab><span class=line><span class=cl><span class=c>%函数文件</span>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=w> </span>f<span class=p>=</span><span class=nf>solve</span><span class=p>(</span>x,y<span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>global</span> <span class=n>x1</span> <span class=n>y1</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=p>=</span><span class=n>x1</span><span class=o>*</span><span class=n>x</span><span class=o>+</span><span class=n>y1</span><span class=o>*</span><span class=n>y</span>
</span></span><span class=line><span class=cl><span class=c>%工作区</span>
</span></span><span class=line><span class=cl><span class=k>global</span> <span class=n>x1</span> <span class=n>y1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>x1</span><span class=p>=</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>y1</span><span class=p>=</span><span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>s</span><span class=p>=</span><span class=n>solve</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.zzsqwq.cn/tags/matlab/>MATLAB</a></li></ul><nav class=paginav><a class=prev href=https://blog.zzsqwq.cn/posts/51/><span class=title>« Prev</span><br><span>专题四:MATLAB绘图</span>
</a><a class=next href=https://blog.zzsqwq.cn/posts/34/><span class=title>Next »</span><br><span>专题二:MATLAB矩阵处理</span></a></nav></footer><div class=comments><script>let getTheme=window.localStorage&&window.localStorage.getItem("pref-theme");getTheme=getTheme??"preferred_color_scheme";let s=document.createElement("script");s.src="https://giscus.app/client.js",s.setAttribute("data-repo","zzsqwq/hugo-blog-comment"),s.setAttribute("data-repo-id","R_kgDOGgU1qQ"),s.setAttribute("data-category","Announcements"),s.setAttribute("data-category-id","DIC_kwDOGgU1qc4CSX1m"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","top"),s.setAttribute("data-theme",getTheme),s.setAttribute("data-lang",""),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.zzsqwq.cn/>Zs's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a> | <a href=http://beian.miit.gov.cn/ target=_blank>鲁ICP备2020034310号</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>function sendMessage(e){const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")}document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light"),sendMessage({setConfig:{theme:"light"}})):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"),sendMessage({setConfig:{theme:"dark"}}))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>