<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>OpenCV on Zs's Blog</title><link>https://zzsqwq.github.io/tags/opencv/</link><description>Recent content in OpenCV on Zs's Blog</description><generator>Hugo -- gohugo.io</generator><language>cn</language><lastBuildDate>Sat, 31 Oct 2020 20:38:00 +0000</lastBuildDate><atom:link href="https://zzsqwq.github.io/tags/opencv/index.xml" rel="self" type="application/rss+xml"/><item><title>Visual Studio 2019 中 OpenCV 配置教程</title><link>https://zzsqwq.github.io/posts/114/</link><pubDate>Sat, 31 Oct 2020 20:38:00 +0000</pubDate><guid>https://zzsqwq.github.io/posts/114/</guid><description>&lt;h2 id="windows-平台-visual-studio-2019-中-opencv-配置教程">
Windows 平台 Visual Studio 2019 中 OpenCV 配置教程
&lt;a class="heading-link" href="#windows-%e5%b9%b3%e5%8f%b0-visual-studio-2019-%e4%b8%ad-opencv-%e9%85%8d%e7%bd%ae%e6%95%99%e7%a8%8b">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h2>
&lt;h3 id="前言">
前言
&lt;a class="heading-link" href="#%e5%89%8d%e8%a8%80">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h3>
&lt;p>​    我这里配置用的是4.5.0版本，但实际配置过程中需要的大部分时间只是路径，因此和版本基本无关。&lt;/p>
&lt;p>​    &lt;strong>只有一个地方是和版本有关系的，在配置链接器的 &lt;code>opencv_wordxyzd.lib&lt;/code> 时，大家一定要注意！！&lt;/strong>&lt;/p>
&lt;h3 id="1下载opencv">
1.下载OpenCV
&lt;a class="heading-link" href="#1%e4%b8%8b%e8%bd%bdopencv">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h3>
&lt;p>​    首先我们进入 &lt;a href="https://opencv.org/releases/">https://opencv.org/releases/&lt;/a> 在这其中下载OpenCV ，我这里下载的4.5.0 ，选择Windows下载即可。&lt;/p>
&lt;p>​    下载结束后我们双击安装包，指定解压目录，我这里解压在了我的G盘，具体路径为 &lt;code>G:\Opencv450&lt;/code>&lt;/p>
&lt;h3 id="2设置opencv的环境变量">
2.设置OpenCV的环境变量
&lt;a class="heading-link" href="#2%e8%ae%be%e7%bd%aeopencv%e7%9a%84%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h3>
&lt;p>​    我们在 此电脑右键 -&amp;gt; 属性 -&amp;gt; 高级系统设置 -&amp;gt; 环境变量 -&amp;gt; 系统变量 -&amp;gt; 双击Path -&amp;gt;添加如下的环境&lt;/p>
&lt;p>​    &lt;code>G:\Opencv450\build\x64\vc15\bin&lt;/code> ，这里的路径是根据上面那个路径来看的，如果你上面那个跟我不同，也请看请自己的路径。&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/1401048133.png" alt="此电脑属性中的高级系统设置">&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/705625531.png" alt="高级系统设置中的环境变量">&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/3556583146.png" alt="双击系统环境变量中的Path">&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/3685752206.png" alt="新建并加入我们的bin路径">&lt;/p>
&lt;h3 id="配置visual-studio">
配置Visual Studio
&lt;a class="heading-link" href="#%e9%85%8d%e7%bd%aevisual-studio">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>新建一个C++类型的空项目，随便你如何命名，将模式调节为 &lt;strong>Debug x64&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/3001499231.png" alt="新建空项目并将模式调节为Debug x64">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>依次点击 &lt;strong>视图&lt;/strong> -&amp;gt; &lt;strong>其他窗口&lt;/strong> -&amp;gt; &lt;strong>属性管理器&lt;/strong>&lt;/p>
&lt;p>在打开的 &lt;strong>属性管理器&lt;/strong> 中添加新项目属性表，我是4.5.0的版本，为了好记，新建属性表命名为&lt;strong>OpenCV450Debug&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/1199777575.png" alt="新建一个属性表">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>建好以后在其上右键，选择&lt;strong>属性&lt;/strong> ，然后依次选择 &lt;strong>VC++ 目录&lt;/strong> -&amp;gt; &lt;strong>包含目录&lt;/strong> -&amp;gt; &lt;strong>编辑&lt;/strong>&lt;/p>
&lt;p>添加下面两个路径，当然，这两个路径也是取决于你安装OpenCV的路径的。&lt;/p>
&lt;p>&lt;code>G:\Opencv450\build\include&lt;/code>&lt;/p>
&lt;p>&lt;code>G:\Opencv450\build\include\opencv2&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/2408130113.png" alt="更改VC++中的包含目录">&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/958765988.png" alt="更改包含目录中的内容">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>接下来选择 &lt;strong>VC++ 目录&lt;/strong> 中的 &lt;strong>库目录&lt;/strong> -&amp;gt; &lt;strong>编辑&lt;/strong> ，然后添加（与你OpenCV路径对应）&lt;/p>
&lt;p>&lt;code>G:\Opencv450\build\x64\vc15\lib&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/2096976051.png" alt="编辑VC++目录中库目录">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>接下来选择 &lt;strong>链接器&lt;/strong> -&amp;gt; &lt;strong>输入&lt;/strong> -&amp;gt; &lt;strong>附加依赖项&lt;/strong> -&amp;gt; &lt;strong>编辑&lt;/strong>&lt;/p>
&lt;p>在其中加入 &lt;code>opencv_world450d.lib&lt;/code> ！ 大家这里请注意，不同的版本这里的添加名称不同，通常来说如果你的版本是 &lt;code>x.y.z&lt;/code> 那么就是 &lt;code>opencv_worldxyzd.lib&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/1791849957.png" alt="附加依赖项">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>最后我们点击确定，然后退出&lt;strong>属性编辑器&lt;/strong>。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="测试opencv的配置">
测试OpenCV的配置
&lt;a class="heading-link" href="#%e6%b5%8b%e8%af%95opencv%e7%9a%84%e9%85%8d%e7%bd%ae">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>在源文件中添加一个 &lt;strong>C++&lt;/strong> 源程序，我添加的为 &lt;code>main.cpp&lt;/code>&lt;/p>
&lt;p>在其中输入如下测试代码&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="color:#75715e">#include&lt;/span> &lt;span style="color:#75715e">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span style="color:#75715e">
&lt;/span>&lt;span style="color:#75715e">#include&lt;/span> &lt;span style="color:#75715e">&amp;lt;opencv2/core.hpp&amp;gt;&lt;/span>&lt;span style="color:#75715e">
&lt;/span>&lt;span style="color:#75715e">#include&lt;/span> &lt;span style="color:#75715e">&amp;lt;opencv2/imgcodecs.hpp&amp;gt;&lt;/span>&lt;span style="color:#75715e">
&lt;/span>&lt;span style="color:#75715e">#include&lt;/span> &lt;span style="color:#75715e">&amp;lt;opencv2/highgui.hpp&amp;gt;&lt;/span>&lt;span style="color:#75715e">
&lt;/span>&lt;span style="color:#75715e">&lt;/span>
&lt;span style="color:#66d9ef">using&lt;/span> &lt;span style="color:#66d9ef">namespace&lt;/span> std;
&lt;span style="color:#66d9ef">using&lt;/span> &lt;span style="color:#66d9ef">namespace&lt;/span> cv;
&lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">main&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> argc, &lt;span style="color:#66d9ef">char&lt;/span>&lt;span style="color:#f92672">**&lt;/span> argv)
{
String imageName(&lt;span style="color:#e6db74">&amp;#34;HappyFish.jpg&amp;#34;&lt;/span>); &lt;span style="color:#75715e">// by default
&lt;/span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (argc &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>)
imageName &lt;span style="color:#f92672">=&lt;/span> argv[&lt;span style="color:#ae81ff">1&lt;/span>];
Mat image &lt;span style="color:#f92672">=&lt;/span> imread(samples&lt;span style="color:#f92672">::&lt;/span>findFile(imageName), IMREAD_COLOR); &lt;span style="color:#75715e">// Read the file
&lt;/span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (image.empty()) { &lt;span style="color:#75715e">// Check for invalid input
&lt;/span>&lt;span style="color:#75715e">&lt;/span> cout &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;Could not open or find the image&amp;#34;&lt;/span> &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> endl;
&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
}
namedWindow(&lt;span style="color:#e6db74">&amp;#34;Display window&amp;#34;&lt;/span>, WINDOW_AUTOSIZE); &lt;span style="color:#75715e">// Create a window for display.
&lt;/span>&lt;span style="color:#75715e">&lt;/span> imshow(&lt;span style="color:#e6db74">&amp;#34;Display window&amp;#34;&lt;/span>, image); &lt;span style="color:#75715e">// Show our image inside it.
&lt;/span>&lt;span style="color:#75715e">&lt;/span> waitKey(&lt;span style="color:#ae81ff">0&lt;/span>); &lt;span style="color:#75715e">// Wait for a keystroke in the window
&lt;/span>&lt;span style="color:#75715e">&lt;/span>
&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/1422866535.png" alt="添加代码源文件">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>接下来我们随便找一张 &lt;strong>jpg&lt;/strong> 图片文件，命名为 &lt;code>HappyFish.jpg&lt;/code> ，保存在你的工程的根目录下/和 &lt;strong>cpp&lt;/strong> 文件一个路径。这里我放一张 &lt;strong>jpg&lt;/strong> 图片供大家使用~&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/1938099554.png" alt="将图片放在项目目录下/和cpp一个路径">&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/1150699358.jpg" alt="HappyFish.jpg">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>然后在我们的 &lt;strong>Visual Studio 2019&lt;/strong> 中按下快捷键 &lt;strong>Ctrl + F5&lt;/strong> 编译运行程序，会发现我们成功打开了这张图片，配置就成功了~&lt;/p>
&lt;p>&lt;img src="https://www.zzsqwq.cn/usr/uploads/2020/10/2092454279.png" alt="配置成功标志">&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="参考链接">
参考链接
&lt;a class="heading-link" href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5">
&lt;i class="fa fa-link" aria-hidden="true">&lt;/i>
&lt;/a>
&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://www.jianshu.com/p/908551afa8fd">VS2019 上配置 OpenCV4.2.0&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item></channel></rss>